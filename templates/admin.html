{% extends "base.html" %}

{% block content %}
<section class="home">

	<div class="popup">
		<header>
			<span class="home_1_list_item_subs">
				<p>–°–µ–≥–æ–¥–Ω—è –≤ 19:20</p>
			</span>
			<div class="close">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M18 6L6 18M6 6L18 18" stroke="black" stroke-width="2" stroke-linecap="round"
						stroke-linejoin="round" />
				</svg>
			</div>
		</header>
		<div class="content">
			<div class="popup_image"><img src="static/img/test.jpg" alt="logo">
			</div>
			<div class="popup_descr">
				<p>üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ —Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏
					¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ
					—Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏ ¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ
					—Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏ ¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ
					—Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏ ¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ
					—Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏ ¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ
					—Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏ ¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ
					—Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏ ¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.üë®‚Äç‚öïÔ∏è–ß–∏—Å–ª–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—Å–∫–≤–∏—á–µ–π —Å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ–º –Ω–∞ –±–æ—Ç—É–ª–∏–∑–º –ø–æ—Å–ª–µ
					—Å–∞–ª–∞—Ç–æ–≤ –∏–∑ ¬´–í–∫—É—Å–≤–∏–ª–ª–∞¬ª –∏ ¬´–ö—É—Ö–Ω–∏ –Ω–∞ —Ä–∞–π–æ–Ω–µ¬ª
					–ø–µ—Ä–µ–≤–∞–ª–∏–ª–æ –∑–∞ —Å–æ—Ç–Ω—é —á–µ–ª–æ–≤–µ–∫.</p>
			</div>
		</div>
	</div>

	<div class="home_1">

		<div class="home_1_title">
			<h3>–°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é</h3>
		</div>

		<div class="home_1_list home_1_list_inp">

			<div class="home_1_list_input_button_r">
				<div class="home_1_list_item_button_admin_rdr">
					<button style="width: 100%;" onclick="location.href='/admin/create'">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–∏</button>
				</div>
			</div>

		</div>

	</div>


	<div class="home_1">

		<div class="home_1_title">
			<h3>–í—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–∞</h3>
		</div>

		<div class="home_1_list home_1_list_inp">

			<div class="home_1_list_input">
				<div class="form-group">
					<input type="text" id="new_admin_email" placeholder=" " required>
					<label for="apple-id">–í–≤–µ–¥–∏—Ç–µ e-mail</label>
				</div>
			</div>

			<div class="home_1_list_input_button_r">
				<div class="home_1_list_item_button_admin_rdr">
					<button onclick = "set_admin()">–í—ã–¥–∞—Ç—å –¥–æ—Å—Ç—É–ø</button>
				</div>
			</div>

			<script>
				async function set_admin() {
					let email = document.getElementById('new_admin_email').value;
					
					const response = await fetch(`/api/giveAdmin?login=${email}`, {
						method: "POST",
					});

					const result = await response.json();
					
					if (result.success) {
						document.getElementById('new_admin_email').value = "";
						alert("–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–ª–∏ –∞–¥–º–∏–Ω–∫—É!")
					} else {
						alert("–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–∏ –≤—ã–¥–∞—á–∏ –∞–¥–º–∏–Ω–∫–∏, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞...");
					}
				}
			</script>

		</div>

	</div>


	<div class="home_1">

		<div class="home_1_title">
			<h3>–í—Å–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</h3>
		</div>

		<div class="home_1_list">
			{% for post in posts %}
			<div class="home_1_list_item">
				<div class="home_1_list_item_img">
					<img src="static/img/test.jpg" alt="logo">
				</div>
				<div class="home_1_list_item_block">
					<div class="home_1_list_item_title">
						<h4>{{ post.description }}</h4>
					</div>
					<div class="home_1_list_item_button_admin">
						<button onclick="location.href='/admin/edit'">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
						<button id = "{{ post.id }}" onclick = "delete_news(this.id)">–£–¥–∞–ª–∏—Ç—å</button>
					</div>
				</div>
			</div>
			{% endfor %}
			<script>
				async function delete_news(id) {	
					console.log(`Deleted ${id}`)	
					const response = await fetch(`/post/delete?id=${id}`, {
						method: "GET",
					});

					const result = await response.json();
					
					if (result.success) {
						alert("–í—ã —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–∏–ª–∏ –ø–æ—Å—Ç.")
					} else {
						alert("–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞...");
					}
				}
			</script>

		</div>

	</div>

</section>
{% endblock %}